@model RecipeResponse
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title> CaloFit</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="@Model.Description" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="~/assets/images/icon.ico" />

    <!-- CSS -->
    <link rel="stylesheet" href="~/assets/css/vendor/bootstrap.min.css">
    <link rel="stylesheet" href="~/assets/css/vendor/font.awesome.min.css">
    <link rel="stylesheet" href="~/assets/css/vendor/ionicons.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/slick.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/animate.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/jquery-ui.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/nice-select.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/magnific-popup.css">
    <link rel="stylesheet" href="~/assets/css/vendor/vendor.min.css">
    <link rel="stylesheet" href="~/assets/css/plugins/plugins.min.css">
    <link rel="stylesheet" href="~/assets/css/style.css">
</head>

<body>

    <div class="breadcrumbs-area position-relative">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <div class="breadcrumb-content position-relative section-content">
                        <h3 class="title-3">Product Details</h3>
                        <ul>
                            <li><a href="@Url.Action("Index", "Home")">Home</a></li>
                            <li>Product Details</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="single-product-main-area">
        <div class="container container-default custom-area">
            <div class="row">
                <div class="col-lg-5 col-custom">
                    <div class="product-details-img horizontal-tab">
                        <img src="@Model.Image" alt="@Model.Name" class="w-100">
                    </div>
                </div>
                <div class="col-lg-7 col-custom">
                    <div class="product-summery position-relative">
                        <div class="product-head mb-3">
                            <h2 class="product-title">@Model.Name</h2>
                        </div>
                        
                        <div class="product-rating mb-3">
                            <!-- Placeholder for rating, you can add a star rating system here -->
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-o"></i>
                            <i class="fa fa-star-o"></i>
                        </div>

                        <p class="desc-content mb-5">
                            @Model.Description
                        </p>
                        <div class="quantity-with_btn mb-4">
                            <div class="quantity">
                                <div class="cart-plus-minus">
                                    <input class="cart-plus-minus-box" value="0" type="text">
                                    <div class="dec qtybutton">-</div>
                                    <div class="inc qtybutton">+</div>
                                </div>
                            </div>
                            <div class="add-to_cart">
                                <a class="btn obrien-button primary-btn" href="cart.html">Thêm vào danh sách yêu thích</a>
                            </div>
                        </div>

                        <div class="social-share mb-4">
                            <span>Share :</span>
                            <a href="#"><i class="fa fa-facebook-square facebook-color"></i></a>
                            <a href="#"><i class="fa fa-twitter-square twitter-color"></i></a>
                            <a href="#"><i class="fa fa-linkedin-square linkedin-color"></i></a>
                            <a href="#"><i class="fa fa-pinterest-square pinterest-color"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-no-text">
                <div class="col-lg-12">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active text-uppercase" id="home-tab" data-bs-toggle="tab" href="#connect-1" role="tab" aria-selected="true">MÔ TẢ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-uppercase" id="profile-tab" data-bs-toggle="tab" href="#connect-2" role="tab" aria-selected="false">ĐÁNH GIÁ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-uppercase" id="contact-tab" data-bs-toggle="tab" href="#connect-3" role="tab" aria-selected="false">NGUYÊN LIỆU</a>
                        </li>
                    </ul>
                    <div class="tab-content mb-text" id="myTabContent">
                        <div class="tab-pane fade show active" id="connect-1" role="tabpanel" aria-labelledby="home-tab">
                            <div class="desc-content">
                                <p class="mb-3">
                                    @Model.Description
                                </p>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="connect-2" role="tabpanel" aria-labelledby="profile-tab">
                            <div class="product_tab_content border p-3">
                                <div class="review_address_inner">
                                    <div class="rating_wrap">
                                        <h5 class="rating-title-1 mb-2">Đánh giá</h5>
                                        @foreach (var review in Model.Reviews)
                                        {

                                            <div class="review_details">
                                                <div class="review_info mb-2">
                                                    <div class="product-rating mb-2">
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star"></i>
                                                        <i class="fa fa-star-o"></i>
                                                        <i class="fa fa-star-o"></i>
                                                    </div>
                                                   <h5>@review.Rating - <span>@review.CreatedDate.ToString("MM-dd-yyyy")</span></h5>
                                                </div>
                                                <p>@review.Comment</p>
                                            </div>
                                        }

                                    </div>
                                </div>
                                <div class="rating_wrap">
                                    <h5 class="rating-title-1 mb-2">Thêm đánh giá</h5>
                                    <p class="mb-2">
                                        Địa chỉ email của bạn sẽ không được công bố. Các trường bắt buộc được đánh dấu.
                                    </p>
                                    <h6 class="rating-title-2 mb-2">Đánh giá của bạn</h6>
                                    <div class="rating_list mb-4">
                                        <div class="review_info">
                                            <div class="product-rating mb-3" id="rating-stars">
                                                <i class="fa fa-star" data-value="1"></i>
                                                <i class="fa fa-star" data-value="2"></i>
                                                <i class="fa fa-star" data-value="3"></i>
                                                <i class="fa fa-star" data-value="4"></i>
                                                <i class="fa fa-star" data-value="5"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Phần hiển thị thông báo lỗi -->
                                @if (ViewBag.ErrorMessage != null)
                                {
                                    <div class="alert alert-danger" role="alert">
                                        @ViewBag.ErrorMessage
                                    </div>
                                }

                                <div class="comments-area comments-reply-area">
                                    <div class="row">
                                        <div class="col-lg-12 col-custom">
                                            <form action="@Url.Action("AddReview")" method="post" class="comment-form-area" id="review-form">
                                                <input type="hidden" name="RecipeId" value="@Model.RecipeId" />
                                                <input type="hidden" name="Rating" id="rating-value" value="0" />
                                                <div class="comment-form-comment mb-3">
                                                    <label>Comment</label>
                                                    <textarea class="comment-notes" name="Comment" required="required"></textarea>
                                                </div>
                                               
                                                <div class="comment-form-submit">
                                                    <input type="submit" value="Gửi" class="comment-submit btn obrien-button primary-btn">
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <div class="tab-pane fade" id="connect-3" role="tabpanel" aria-labelledby="contact-tab">
                            <div class="desc-content">
                                <h5>Nguyên liệu</h5>
                                <ul>
                                    @foreach (var ingredient in Model.Ingredients)
                                    {
                                        <li>@ingredient.Name - @ingredient.Quantity</li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="~/assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="~/assets/js/vendor/jquery-migrate-3.3.2.min.js"></script>
    <script src="~/assets/js/vendor/modernizr-2.8.3.min.js"></script>
    <script src="~/assets/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="~/assets/js/plugins/slick.min.js"></script>
    <script src="~/assets/js/plugins/jquery.countdown.min.js"></script>
    <script src="~/assets/js/plugins/jquery.ajaxchimp.min.js"></script>
    <script src="~/assets/js/plugins/jquery.nice-select.min.js"></script>
    <script src="~/assets/js/plugins/jquery-ui.min.js"></script>
    <script src="~/assets/js/plugins/jquery.magnific-popup.min.js"></script>
    <script src="~/assets/js/main.js"></script>
</body>
</html>
